---
title: "Pipeline Update 2023-05-31"
author: "Kat Terwelp"
format: html
editor: visual
---

## Plan for Updated Pipeline 2023-05-31

**What are the major goals for this update?**

-   Pipeline script that runs the smaller scripts as one job

-   Use of Singularity container to run all scripts

-   One config file with all variables used for multiple scripts

-   Rework folder structure for analysis

-   Add copy result for customer script

-   Add checksum script

### Folder Structure 

**Based on various computational project resources:**

```{=plain}
data/ # read-only raw data
meta/ # read-only
clean_data/ # cleaned data and metadata tables 
  data/ 
  meta/ 

script/ # all scripts
log/ # error/run logs

# ------------ GENERATED VIA SCRIPTS ------------- #
*cache/ # store results that take time to rerun
*output/ # all outputs organized by pipeline step
  *01-step/
  *02-step/
  *03-step/ ... 
  
*report/ # organized result docs/graphs to give to customer
  *graphs/ # graphs for customer
  *doc/ # docs explaining analysis/summary 

*should all be able to be deleted and regenerated with script and data 
```
`script/` and `clean_data/meta` should be tracked with Git for any changes to the scripts used for analysis and metadata cleaning.

`data/` and `meta` will be stored in Duke Box dusom

`cache/` will store outputs that take too much time to regenerate each time (ex: phylogenetic tree building etc)

### Reproducible Environment

Containerization via Singularity

Nextflow pipeline manager scripts
